<!-- app/templates/student/view_courses.html -->
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Ver Cursos</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/students_courses.css') }}">
</head>
<body>
    <div class="container">
        <h1>Cursos Disponibles</h1>
        <div class="courses-grid">
            {% for course in courses %}
            <div class="course-card">
                <h2>{{ course.title }}</h2>
                <p>{{ course.description }}</p>
                <p class="instructor">Instructor: {{ course.instructor.username }}</p>
                
                {% if course.id in enrollments %}
                    {% set enrollment = enrollments[course.id] %}
                    <div class="progress-bar">
                        <div class="progress" style="width: '{{ enrollment.progress|default(0)|round }}%'"></div>
                    </div>
                    <p>Progreso: {{ enrollment.progress|default(0)|round }}%</p>
                    <a href="{{ url_for('view_course_content', course_id=course.id) }}" class="button">Continuar Curso</a>
                {% else %}
                    <form action="{{ url_for('enroll_course', course_id=course.id) }}" method="post">
                        <button type="submit" class="button">Inscribirse</button>
                    </form>
                {% endif %}
            </div>
            {% endfor %}
        </div>
        <a href="{{ url_for('student_dashboard') }}" class="back-button">Volver al Inicio</a>
    </div>
</body>
</html>